package components

import (
	"jinovatka/entities"
)

type SeedViewData struct {
	Title string
	Heading string
	Seed *entities.Seed
}

func NewSeedViewData(seed *entities.Seed, title, heading string) *SeedViewData {
	return &SeedViewData{
		Title: title,
		Heading: heading,
		Seed: seed,
	}
}

templ seedView(data *SeedViewData) {
<div class="flex-content-column">
	<table>
		<tbody>
			<tr>
				<td>URL Adresa:</td>
				<td>{data.Seed.URL}</td>
			</tr>
			<tr>
				<td>Veřejné semínko:</td>
				if data.Seed.Public {
					<td>Ano</td>
				} else {
					<td>Ne</td>
				}
			</tr>
			<tr>
				<td>Stav:</td>
				if data.Seed.State == entities.HarvestedSucessfully {
					<td>Sklizeno</td>
				} else {
					<td>Nesklizeno</td>
				}
				// TODO: Add other messages for cases where there was error during crawl.
			</tr>
			if data.Seed.State == entities.HarvestedSucessfully {
				<tr>
					<td>Archivní odkaz:</td>
					<td>{data.Seed.ArchivalURL}</td>
					// TODO: This should be link. There should also be a copy button.
				</tr>
				<tr>
					<td>Datum sklizně:</td>
					<td>{data.Seed.HarvestedAt.String()}</td>
					// TODO: Use custom format sring for the time.Time.
				</tr>
			}
			// TODO: Maybe add shadowID or the shadow link to this page.
		</tbody>
	</table>
</div>
}